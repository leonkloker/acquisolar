{"ast":null,"code":"import React,{useCallback,useState}from'react';import{useDropzone}from'react-dropzone';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const FileUploadPage=()=>{const[files,setFiles]=useState([]);const onDrop=useCallback(acceptedFiles=>{setFiles(prevFiles=>{const newFileNames=acceptedFiles.map(file=>file.name);const existingFileNames=new Set(prevFiles);const uniqueNewFileNames=newFileNames.filter(fileName=>!existingFileNames.has(fileName));return[...prevFiles,...uniqueNewFileNames];});handleFileSelect(acceptedFiles);},[]);const handleFileSelect=useCallback(event=>{var _event$dataTransfer;event.preventDefault();// Prevents browser from opening file\nconst file=((_event$dataTransfer=event.dataTransfer)===null||_event$dataTransfer===void 0?void 0:_event$dataTransfer.files[0])||event.target.files[0];if(file&&file.type==='application/pdf'){handleFileUpload(file);}else{console.log('Please upload a PDF file.');}},[]);const handleFileUpload=async file=>{const formData=new FormData();formData.append('pdf',file);try{const response=await fetch('/upload',{method:'POST',body:formData});const data=await response.json();console.log(data.text);}catch(error){console.error('Error:',error);//setPdfText('');\n}};const{getRootProps,getInputProps}=useDropzone({type:\"file\",accept:'application/pdf',onDrop});return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsxs(\"header\",{style:styles.header,children:[/*#__PURE__*/_jsx(\"h1\",{style:styles.title,children:\"AcquiSolar\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/about\",style:styles.aboutLink,children:\"About Us\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.content,children:[/*#__PURE__*/_jsxs(\"div\",{...getRootProps({style:styles.dropzone}),children:[/*#__PURE__*/_jsx(\"input\",{...getInputProps()}),/*#__PURE__*/_jsx(\"p\",{style:styles.uploadText,children:\"Upload Files\"}),/*#__PURE__*/_jsxs(\"div\",{style:styles.fileListContainer,children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:0},children:\"Files:\"}),/*#__PURE__*/_jsx(\"ul\",{style:styles.fileList,children:files.map((fileName,index)=>/*#__PURE__*/_jsx(\"li\",{style:styles.fileName,children:fileName},index))})]})]}),/*#__PURE__*/_jsx(\"button\",{style:styles.analyzeButton,children:\"Analyze\"})]})]});};const styles={container:{fontFamily:'Arial, sans-serif',height:'100vh',backgroundColor:'#9ACAC4',display:'flex',flexDirection:'column',justifyContent:'flex-start'// Align content to the top\n},header:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'20px',color:'white',fontSize:'24px'},title:{margin:0},aboutLink:{color:'white',textDecoration:'none',backgroundColor:'#9ACAC4',// Match the header background color\npadding:'5px 10px',// Add some padding\nborderRadius:'5px'// Optional: add some rounding to match your design\n},content:{display:'flex',flexDirection:'column',alignItems:'flex-start',// Align dropzone to the left\npadding:'20px',width:'100%'// Make sure content takes the full width\n},dropzone:{padding:'20px',width:'300px',height:'auto',borderRadius:'20px',backgroundColor:'#ffffff',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',marginBottom:'10px'},uploadText:{color:'#000000',marginBottom:'20px',fontSize:'18px',fontWeight:'bold'},fileListContainer:{width:'100%',backgroundColor:'#E6F0EF',borderRadius:'10px',padding:'10px',textAlign:'left',maxHeight:'150px',overflowY:'auto'// Allow scrolling for multiple files\n},fileList:{listStyleType:'none',padding:0,margin:0},fileName:{color:'#000000',fontSize:'16px',lineHeight:'24px',padding:'5px 0'},analyzeButton:{padding:'10px 20px',fontSize:'16px',backgroundColor:'#FFF',border:'none',borderRadius:'20px',cursor:'pointer',color:'black',alignSelf:'flex-start'// Align the button to the left\n}};export default FileUploadPage;","map":{"version":3,"names":["React","useCallback","useState","useDropzone","jsx","_jsx","jsxs","_jsxs","FileUploadPage","files","setFiles","onDrop","acceptedFiles","prevFiles","newFileNames","map","file","name","existingFileNames","Set","uniqueNewFileNames","filter","fileName","has","handleFileSelect","event","_event$dataTransfer","preventDefault","dataTransfer","target","type","handleFileUpload","console","log","formData","FormData","append","response","fetch","method","body","data","json","text","error","getRootProps","getInputProps","accept","style","styles","container","children","header","title","href","aboutLink","content","dropzone","uploadText","fileListContainer","margin","fileList","index","analyzeButton","fontFamily","height","backgroundColor","display","flexDirection","justifyContent","alignItems","padding","color","fontSize","textDecoration","borderRadius","width","marginBottom","fontWeight","textAlign","maxHeight","overflowY","listStyleType","lineHeight","border","cursor","alignSelf"],"sources":["/Users/zararutherford/Documents/AcquiSolar/AcquiSolar/acquisolar/frontend/src/views/fileupload.js"],"sourcesContent":["import React, { useCallback, useState } from 'react';\nimport { useDropzone } from 'react-dropzone';\n\nconst FileUploadPage = () => {\n  const [files, setFiles] = useState([]);\n\n  const onDrop = useCallback((acceptedFiles) => {\n    setFiles((prevFiles) => {\n      const newFileNames = acceptedFiles.map((file) => file.name);\n      const existingFileNames = new Set(prevFiles);\n      const uniqueNewFileNames = newFileNames.filter((fileName) => !existingFileNames.has(fileName));\n      return [...prevFiles, ...uniqueNewFileNames];\n    });\n    handleFileSelect(acceptedFiles);\n  }, []);\n\n  const handleFileSelect = useCallback((event) => {\n    event.preventDefault(); // Prevents browser from opening file\n    const file = event.dataTransfer?.files[0] || event.target.files[0];\n    if (file && file.type === 'application/pdf') {\n      handleFileUpload(file);\n    } else {\n      console.log('Please upload a PDF file.');\n    }\n  }, []);\n\n  const handleFileUpload = async (file) => {\n    const formData = new FormData();\n    formData.append('pdf', file);\n\n    try {\n      const response = await fetch('/upload', {\n        method: 'POST',\n        body: formData,\n      });\n      const data = await response.json();\n      console.log(data.text); \n    } catch (error) {\n      console.error('Error:', error);\n      //setPdfText('');\n    }\n  };\n\n  const { getRootProps, getInputProps } = useDropzone({\n    type:\"file\",\n    accept: 'application/pdf',\n    onDrop,\n  });\n\n  return (\n    <div style={styles.container}>\n      <header style={styles.header}>\n        <h1 style={styles.title}>AcquiSolar</h1>\n        <a href=\"/about\" style={styles.aboutLink}>About Us</a>\n      </header>\n      <div style={styles.content}>\n        <div {...getRootProps({ style: styles.dropzone })}>\n          <input {...getInputProps()} />\n          <p style={styles.uploadText}>Upload Files</p>\n          <div style={styles.fileListContainer}>\n            <p style={{ margin: 0 }}>Files:</p>\n            <ul style={styles.fileList}>\n              {files.map((fileName, index) => (\n                <li key={index} style={styles.fileName}>{fileName}</li>\n              ))}\n            </ul>\n          </div>\n        </div>\n        <button style={styles.analyzeButton}>Analyze</button>\n      </div>\n    </div>\n  );\n};\n\nconst styles = {\n  container: {\n    fontFamily: 'Arial, sans-serif',\n    height: '100vh',\n    backgroundColor: '#9ACAC4',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'flex-start', // Align content to the top\n  },\n  header: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: '20px',\n    color: 'white',\n    fontSize: '24px',\n  },\n  title: {\n    margin: 0,\n  },\n  aboutLink: {\n    color: 'white',\n    textDecoration: 'none',\n    backgroundColor: '#9ACAC4', // Match the header background color\n    padding: '5px 10px', // Add some padding\n    borderRadius: '5px', // Optional: add some rounding to match your design\n  },\n  content: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'flex-start', // Align dropzone to the left\n    padding: '20px',\n    width: '100%', // Make sure content takes the full width\n  },\n  dropzone: {\n    padding: '20px',\n    width: '300px',\n    height: 'auto',\n    borderRadius: '20px',\n    backgroundColor: '#ffffff',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: '10px',\n  },\n  uploadText: {\n    color: '#000000',\n    marginBottom: '20px',\n    fontSize: '18px',\n    fontWeight: 'bold',\n  },\n  fileListContainer: {\n    width: '100%',\n    backgroundColor: '#E6F0EF',\n    borderRadius: '10px',\n    padding: '10px',\n    textAlign: 'left',\n    maxHeight: '150px',\n    overflowY: 'auto', // Allow scrolling for multiple files\n  },\n  fileList: {\n    listStyleType: 'none',\n    padding: 0,\n    margin: 0,\n  },\n  fileName: {\n    color: '#000000',\n    fontSize: '16px',\n    lineHeight: '24px',\n    padding: '5px 0',\n  },\n  analyzeButton: {\n    padding: '10px 20px',\n    fontSize: '16px',\n    backgroundColor: '#FFF',\n    border: 'none',\n    borderRadius: '20px',\n    cursor: 'pointer',\n    color: 'black',\n    alignSelf: 'flex-start', // Align the button to the left\n  },\n};\n\nexport default FileUploadPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}