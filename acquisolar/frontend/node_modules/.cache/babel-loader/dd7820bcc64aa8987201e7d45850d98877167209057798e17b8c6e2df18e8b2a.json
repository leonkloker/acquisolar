{"ast":null,"code":"import React,{useCallback,useState}from'react';import{useDropzone}from'react-dropzone';import{Document,Page,pdfjs}from'react-pdf';import FileList from'./filelist';import PDFViewer from'./pdfviewer';// Set the workerSrc for pdfjs\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";pdfjs.GlobalWorkerOptions.workerSrc=\"//cdnjs.cloudflare.com/ajax/libs/pdf.js/\".concat(pdfjs.version,\"/pdf.worker.js\");// url of aws server and port 80\n// change to '' for localhost\n// const URL = 'http://54.90.226.66:80'\n//const URL = ''\nconst Main=()=>{const[files,setFiles]=useState([]);const[fileNames,setFileNames]=useState([]);const[showSearch,setShowSearch]=useState(false);const[searchQuery,setSearchQuery]=useState('');const[currentPdf,setCurrentPdf]=useState(null);const[numPages,setNumPages]=useState(null);const[instances,setInstances]=useState([]);const[currentInstance,setCurrentInstance]=useState(0);const[pageNumber,setPageNumber]=useState(1);const findInstancesOfSearchTerm=async()=>{let instancesFound=[];if(!currentPdf)return;const pdfDocument=await pdfjs.getDocument(URL.createObjectURL(currentPdf)).promise;for(let i=1;i<=numPages;i++){const page=await pdfDocument.getPage(i);const textContent=await page.getTextContent();// Look for instances of the search term in the text content\ntextContent.items.forEach(item=>{if(item.str.includes(searchQuery)){instancesFound.push({page:i,instance:item.str});}});}setInstances(instancesFound);if(instancesFound.length>0){setPageNumber(instancesFound[0].page);// Go to the first instance page\n}};const goToNextInstance=()=>{if(instances.length===0)return;const nextInstance=(currentInstance+1)%instances.length;setCurrentInstance(nextInstance);setPageNumber(instances[nextInstance].page);};const goToPreviousInstance=()=>{const nextInstance=(currentInstance-1)%instances.length;setCurrentInstance(nextInstance);setPageNumber(instances[nextInstance].page);};const handleSearchInputChange=event=>{setSearchQuery(event.target.value);};const handleSearchSubmit=async()=>{if(!searchQuery){alert('Please enter a search query.');return;}try{const response=await fetch(URL+'/search',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({query:searchQuery})});if(response.ok){const data=await response.json();console.log(data);}else{console.error('Search failed',response);}}catch(error){console.error('Error during search',error);}findInstancesOfSearchTerm();};const onDrop=useCallback(acceptedFiles=>{// Prevents duplicates from being uploaded (based on filename atm)\nconst filteredFiles=acceptedFiles.filter(file=>file.type==='application/pdf');setFiles(prevFiles=>[...prevFiles,...filteredFiles]);// If there's no currently selected PDF, display the first one dropped\nif(filteredFiles.length&&!currentPdf){setCurrentPdf(filteredFiles[0]);}// Filenames that are displayed when file is uploaded\nsetFileNames(prevFiles=>{const newFileNames=filteredFiles.map(file=>file.name);const existingFileNames=new Set(prevFiles);const uniqueNewFileNames=newFileNames.filter(fileName=>!existingFileNames.has(fileName));return[...prevFiles,...uniqueNewFileNames];});},[currentPdf]);const onDocumentLoadSuccess=_ref=>{let{numPages}=_ref;setNumPages(numPages);};const removeFile=(fileName,event)=>{event.stopPropagation();// Prevent the event from bubbling up to parent elements\nsetFiles(prevFiles=>prevFiles.filter(file=>file.name!==fileName));setFileNames(prevFileNames=>prevFileNames.filter(name=>name!==fileName));};const{getRootProps,getInputProps}=useDropzone({// Only allows pdfs\naccept:'application/pdf',onDrop});const uploadFilesToServer=async()=>{if(files.length===0){alert('Please submit a file.');return;}setShowSearch(true);const formData=new FormData();// Append each file to the form data\nfiles.forEach(file=>{formData.append('files',file);});console.log(formData);try{const response=await fetch(URL+'/upload',{method:'POST',body:formData});if(response.ok){console.log('Files successfully uploaded');}else{console.error('Upload failed',response);}}catch(error){console.error('Error uploading files',error);}};return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsxs(\"header\",{style:styles.header,children:[/*#__PURE__*/_jsx(\"h1\",{style:styles.title,children:\"AcquiSolar\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/about\",style:styles.aboutLink,children:\"About Us\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.mainContent,children:[/*#__PURE__*/_jsxs(\"div\",{...getRootProps({style:styles.dropzone}),children:[/*#__PURE__*/_jsx(\"input\",{...getInputProps()}),/*#__PURE__*/_jsxs(\"div\",{style:styles.uploadHeader,children:[/*#__PURE__*/_jsx(\"p\",{style:styles.uploadText,children:\"Upload Files\"}),/*#__PURE__*/_jsx(\"button\",{style:styles.addButton,children:\"Add\"})]}),/*#__PURE__*/_jsx(FileList,{fileNames:fileNames,removeFile:removeFile})]}),/*#__PURE__*/_jsx(PDFViewer,{showSearch:showSearch,currentPdf:currentPdf,numPages:numPages,searchQuery:searchQuery,handleSearchInputChange:handleSearchInputChange,handleSearchSubmit:handleSearchSubmit,onDocumentLoadSuccess:onDocumentLoadSuccess,instances:instances,currentInstance:currentInstance,findInstancesOfSearchTerm:findInstancesOfSearchTerm,goToNextInstance:goToNextInstance,goToPreviousInstance:goToPreviousInstance,pageNumber:pageNumber}),!showSearch&&/*#__PURE__*/_jsx(\"div\",{style:styles.dragTextContainer,children:/*#__PURE__*/_jsx(\"p\",{style:styles.dragText,children:\"Add your files in the box on the left and click Submit.\"})})]}),!showSearch&&/*#__PURE__*/_jsx(\"button\",{style:styles.submitButton,onClick:uploadFilesToServer,children:\"Submit\"})]});};const styles={container:{fontFamily:'Arial, sans-serif',height:'100vh',width:'100%',backgroundColor:'#9ACAC4',display:'flex',flexDirection:'column',justifyContent:'flex-start'},header:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'20px',color:'white',fontSize:'24px'},title:{margin:0},aboutLink:{color:'white',textDecoration:'none',backgroundColor:'#9ACAC4',padding:'5px 10px',borderRadius:'5px'},content:{display:'flex',flexDirection:'column',alignItems:'flex-start',padding:'20px',paddingTop:'10px',width:'100%'},dropzone:{padding:'20px',width:'300px',height:'400px',borderRadius:'15px',backgroundColor:'#ffffff',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',marginBottom:'10px'},uploadText:{color:'#000000',alignItems:'flex-start',justifyContent:'flex-start',marginBottom:'10px',fontSize:'18px',fontWeight:'bold'},submitButton:{padding:'10px 20px',marginLeft:'20px',fontSize:'16px',backgroundColor:'#FFF',border:'none',borderRadius:'20px',cursor:'pointer',color:'black',alignSelf:'flex-start',fontWeight:'bold'},addButton:{marginLeft:'10px',padding:'5px 10px',fontSize:'16px',backgroundColor:'#FFF',border:'1px solid #000',borderRadius:'5px',cursor:'pointer',fontWeight:'bold'},uploadHeader:{display:'flex',justifyContent:'space-between',alignItems:'center',width:'100%',padding:'0 20px',marginBottom:'10px'},mainContent:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'20px',paddingTop:'10px'},dragTextContainer:{marginLeft:'20px',fontSize:'24px',marginRight:'15%',fontWeight:'bold',color:'#FFF',maxWidth:'400px',textAlign:'left'}};export default Main;","map":{"version":3,"names":["React","useCallback","useState","useDropzone","Document","Page","pdfjs","FileList","PDFViewer","jsx","_jsx","jsxs","_jsxs","GlobalWorkerOptions","workerSrc","concat","version","Main","files","setFiles","fileNames","setFileNames","showSearch","setShowSearch","searchQuery","setSearchQuery","currentPdf","setCurrentPdf","numPages","setNumPages","instances","setInstances","currentInstance","setCurrentInstance","pageNumber","setPageNumber","findInstancesOfSearchTerm","instancesFound","pdfDocument","getDocument","URL","createObjectURL","promise","i","page","getPage","textContent","getTextContent","items","forEach","item","str","includes","push","instance","length","goToNextInstance","nextInstance","goToPreviousInstance","handleSearchInputChange","event","target","value","handleSearchSubmit","alert","response","fetch","method","headers","body","JSON","stringify","query","ok","data","json","console","log","error","onDrop","acceptedFiles","filteredFiles","filter","file","type","prevFiles","newFileNames","map","name","existingFileNames","Set","uniqueNewFileNames","fileName","has","onDocumentLoadSuccess","_ref","removeFile","stopPropagation","prevFileNames","getRootProps","getInputProps","accept","uploadFilesToServer","formData","FormData","append","style","styles","container","children","header","title","href","aboutLink","mainContent","dropzone","uploadHeader","uploadText","addButton","dragTextContainer","dragText","submitButton","onClick","fontFamily","height","width","backgroundColor","display","flexDirection","justifyContent","alignItems","padding","color","fontSize","margin","textDecoration","borderRadius","content","paddingTop","marginBottom","fontWeight","marginLeft","border","cursor","alignSelf","marginRight","maxWidth","textAlign"],"sources":["/Users/zararutherford/Documents/AcquiSolar/AcquiSolar/acquisolar/frontend/src/views/main.js"],"sourcesContent":["import React, { useCallback, useState } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { Document, Page, pdfjs } from 'react-pdf';\nimport FileList from './filelist';\nimport PDFViewer from './pdfviewer';\n\n// Set the workerSrc for pdfjs\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\n\n// url of aws server and port 80\n// change to '' for localhost\n// const URL = 'http://54.90.226.66:80'\n//const URL = ''\n\nconst Main = () => {\n  const [files, setFiles] = useState([]);\n  const [fileNames, setFileNames] = useState([]);\n  const [showSearch, setShowSearch] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [currentPdf, setCurrentPdf] = useState(null);\n  const [numPages, setNumPages] = useState(null); \n  const [instances, setInstances] = useState([]);\n  const [currentInstance, setCurrentInstance] = useState(0);\n  const [pageNumber, setPageNumber] = useState(1);\n\n  const findInstancesOfSearchTerm = async () => {\n    let instancesFound = [];\n    if (!currentPdf) return;\n\n    const pdfDocument = await pdfjs.getDocument(URL.createObjectURL(currentPdf)).promise;\n\n    for (let i = 1; i <= numPages; i++) {\n      const page = await pdfDocument.getPage(i);\n      const textContent = await page.getTextContent();\n      // Look for instances of the search term in the text content\n      textContent.items.forEach((item) => {\n        if (item.str.includes(searchQuery)) {\n          instancesFound.push({ page: i, instance: item.str });\n        }\n      });\n    }\n    setInstances(instancesFound);\n    if (instancesFound.length > 0) {\n      setPageNumber(instancesFound[0].page); // Go to the first instance page\n    }\n  };\n\n  const goToNextInstance = () => {\n    if (instances.length === 0) return;\n    const nextInstance = (currentInstance + 1) % instances.length;\n    setCurrentInstance(nextInstance);\n    setPageNumber(instances[nextInstance].page);\n  };\n\n  const goToPreviousInstance = () => {\n    const nextInstance = (currentInstance - 1) % instances.length;\n    setCurrentInstance(nextInstance);\n    setPageNumber(instances[nextInstance].page);\n  };\n\n  \n  const handleSearchInputChange = (event) => {\n    setSearchQuery(event.target.value);\n  };\n\n  const handleSearchSubmit = async () => {\n    if (!searchQuery) {\n      alert('Please enter a search query.');\n      return;\n    }\n  \n    try {\n      const response = await fetch(URL + '/search', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ query: searchQuery }),\n      });\n  \n      if (response.ok) {\n        const data = await response.json();\n        console.log(data);\n      } else {\n        console.error('Search failed', response);\n      }\n    } catch (error) {\n      console.error('Error during search', error);\n    }\n    findInstancesOfSearchTerm();\n  };\n\n  const onDrop = useCallback((acceptedFiles) => {\n    // Prevents duplicates from being uploaded (based on filename atm)\n    const filteredFiles = acceptedFiles.filter(file => file.type === 'application/pdf');\n    setFiles((prevFiles) => [...prevFiles, ...filteredFiles]);\n\n    // If there's no currently selected PDF, display the first one dropped\n    if (filteredFiles.length && !currentPdf) {\n      setCurrentPdf(filteredFiles[0]);\n    }\n\n    // Filenames that are displayed when file is uploaded\n    setFileNames((prevFiles) => {\n      const newFileNames = filteredFiles.map((file) => file.name);\n      const existingFileNames = new Set(prevFiles);\n      const uniqueNewFileNames = newFileNames.filter((fileName) => !existingFileNames.has(fileName));\n      return [...prevFiles, ...uniqueNewFileNames];\n    });\n  }, [currentPdf]);\n\n  const onDocumentLoadSuccess = ({ numPages }) => {\n    setNumPages(numPages);\n  };\n\n  const removeFile = (fileName, event) => {\n    event.stopPropagation(); // Prevent the event from bubbling up to parent elements\n  \n    setFiles((prevFiles) => prevFiles.filter((file) => file.name !== fileName));\n    setFileNames((prevFileNames) => prevFileNames.filter((name) => name !== fileName));\n  };\n\n  const { getRootProps, getInputProps } = useDropzone({\n    // Only allows pdfs\n    accept: 'application/pdf',\n    onDrop,\n  });\n\n  const uploadFilesToServer = async () => {\n    if (files.length === 0) {\n      alert('Please submit a file.');\n      return;\n    }\n    \n    setShowSearch(true); \n    const formData = new FormData();\n    \n    // Append each file to the form data\n    files.forEach((file) => {\n      formData.append('files', file);\n    });\n\n    console.log(formData);\n\n    try {\n      const response = await fetch(URL + '/upload', {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (response.ok) {\n        console.log('Files successfully uploaded');\n      } else {\n        console.error('Upload failed', response);\n      }\n    } catch (error) {\n      console.error('Error uploading files', error);\n    }\n  };\n\n  return (\n    <div style={styles.container}>\n      {/* Header */}\n      <header style={styles.header}>\n        <h1 style={styles.title}>AcquiSolar</h1>\n        <a href=\"/about\" style={styles.aboutLink}>About Us</a>\n      </header>\n\n      {/* Main content area */}\n      <div style={styles.mainContent}>\n        {/* File upload area */}\n        <div {...getRootProps({ style: styles.dropzone })}>\n          <input {...getInputProps()} />\n          <div style={styles.uploadHeader}>\n            <p style={styles.uploadText}>Upload Files</p>\n            <button style={styles.addButton}>Add</button>\n          </div>\n          <FileList fileNames={fileNames} removeFile={removeFile} />\n        </div>\n\n        {/* PDF viewer and search functionality */}\n        <PDFViewer \n          showSearch={showSearch} \n          currentPdf={currentPdf} \n          numPages={numPages} \n          searchQuery={searchQuery} \n          handleSearchInputChange={handleSearchInputChange} \n          handleSearchSubmit={handleSearchSubmit} \n          onDocumentLoadSuccess = {onDocumentLoadSuccess}\n          instances={instances}\n          currentInstance={currentInstance}\n          findInstancesOfSearchTerm={findInstancesOfSearchTerm}\n          goToNextInstance={goToNextInstance}\n          goToPreviousInstance={goToPreviousInstance}\n          pageNumber={pageNumber}\n        />\n\n        {/* Instructions for users */}\n        {!showSearch && (\n          <div style={styles.dragTextContainer}>\n            <p style={styles.dragText}>Add your files in the box on the left and click Submit.</p>\n          </div>\n        )}\n      </div>\n\n      {/* Submit button */}\n      {!showSearch && (\n        <button style={styles.submitButton} onClick={uploadFilesToServer}>Submit</button>\n      )}\n    </div>\n  );\n};\n\nconst styles = {\n  container: {\n    fontFamily: 'Arial, sans-serif',\n    height: '100vh',\n    width: '100%',\n    backgroundColor: '#9ACAC4',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'flex-start',\n  },\n  header: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: '20px',\n    color: 'white',\n    fontSize: '24px',\n  },\n  title: {\n    margin: 0,\n  },\n  aboutLink: {\n    color: 'white',\n    textDecoration: 'none',\n    backgroundColor: '#9ACAC4', \n    padding: '5px 10px',\n    borderRadius: '5px', \n  },\n  content: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'flex-start', \n    padding: '20px',\n    paddingTop: '10px',\n    width: '100%',\n  },\n  dropzone: {\n    padding: '20px',\n    width: '300px',\n    height: '400px',\n    borderRadius: '15px',\n    backgroundColor: '#ffffff',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: '10px',\n  },\n  uploadText: {\n    color: '#000000',\n    alignItems: 'flex-start',\n    justifyContent: 'flex-start',\n    marginBottom: '10px',\n    fontSize: '18px',\n    fontWeight: 'bold',\n  },\n  submitButton: {\n    padding: '10px 20px',\n    marginLeft: '20px',\n    fontSize: '16px',\n    backgroundColor: '#FFF',\n    border: 'none',\n    borderRadius: '20px',\n    cursor: 'pointer',\n    color: 'black',\n    alignSelf: 'flex-start', \n    fontWeight: 'bold',\n  },\n  addButton: {\n    marginLeft: '10px',\n    padding: '5px 10px',\n    fontSize: '16px',\n    backgroundColor: '#FFF',\n    border: '1px solid #000', \n    borderRadius: '5px',\n    cursor: 'pointer',\n    fontWeight: 'bold',\n  },\n  uploadHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%', \n    padding: '0 20px', \n    marginBottom: '10px', \n  },\n  mainContent: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: '20px',\n    paddingTop: '10px',\n  },\n  dragTextContainer: {\n    marginLeft: '20px',\n    fontSize: '24px', \n    marginRight: '15%',\n    fontWeight: 'bold',\n    color: '#FFF',\n    maxWidth: '400px', \n    textAlign: 'left',\n  },\n  \n};\n\nexport default Main;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}